---
title: Ubuntu 14.04 安装Transmission2.82
date: 2017-02-03 22:37:00
categories:
 - VPS
tags: 
 - Ubuntu
 - Transmission
permalink: /archives/347/
---

**备忘用：**

 1. 在全新的Ubuntu 14.04 系统上通过apt-get安装Transmission；
 2. 修改settings.json，并替换成新的界面

参考以下文章并修改：[How To Install Transmission on Ubuntu 14.04 - idroot](http://idroot.net/tutorials/how-to-install-transmission-on-ubuntu-14-04/)


<!-- more -->

**全程以root账户进行或者使用sudo提权
参照英文，仅改动说明部分用中文备注。**

## Step 1. First, add transmission into the repository.（全新的系统没有add-apt-repository命令，通过apt-get添加）
```bash
apt-get install software-properties-common
add-apt-repository ppa:transmissionbt/ppa
```

## Step 2. Install Transmission.
```bash
apt-get update
apt-get install transmission-cli transmission-common transmission-daemon
```

## Step 3. Configure users and permissions for Transmission.

>  After the installation, create the directory where you want to put all your downloaded files.（这里假定"/mnt/blockstorage/transmission"为transmission下载数据的存储地址）

```bash
cd /mnt/blockstorage
mkdir transmission
cd transmission
mkdir completed incomplete watch
```

>  Add the current user to debian-transmission group（使用rhilip为管理账户，或许adduser命令更好）

```bash
useradd -m -d /home/rhilip rhilip -s /bin/bash
usermod -a -G debian-transmission rhilip
```

>  Now, when Transmission downloads torrents, it automatically sets the rights of the files that it downloads to the Transmission user group. We need to make sure that our username is a part of that group, and we need to set the correct permissions on the downloads folders. Issue the following commands:

```bash
chgrp -R debian-transmission /mnt/blockstorage/transmission
chmod -R 775 /mnt/blockstorage/transmission
```

## Step 4. Configure Transmission.

>  Stop Transmission daemon befor setting.（在编辑settings.json前先停止服务，防止修改失效。）
```service transmission-daemon stop```

>  Then use vi|nano to change "settings.json",Here is my sample configuration(used as a PT bittorrent client):

```nano /etc/transmission-daemon/settings.json```
·More to see: [Editing Configuration Files -transmission/transmission](https://github.com/transmission/transmission/wiki/Editing-Configuration-Files)

```json
....
"dht-enabled": false,
"download-dir": "/mnt/blockstorage/transmission/completed", 
....
"encryption": 2,
 "incomplete-dir": "/mnt/blockstorage/transmission/incomplete", 
 "incomplete-dir-enabled": false, 
"lpd-enabled": false, 
"pex-enabled": false,
....
"rpc-enabled": true, 
 "rpc-password": "password", 
 "rpc-port": 9091, 
 "rpc-url": "/transmission/", 
 "rpc-username": "username", 
 "rpc-whitelist": "127.0.0.1", 
 "rpc-whitelist-enabled": false, 
....
"umask": 2, 
"utp-enabled": false, 
"watch-dir": "/mnt/blockstorage/transmission/watch", 
"watch-dir-enabled": true
```

**Notes：You may add "watch-dir" and "watch-dir-enabled" by yourself.**

## Step 5. Start Transmission daemon.
```service transmission-daemon start```

----------

## Step 6. Change the web of Transmission-daemon.

The project: [ronggang/transmission-web-control](https://github.com/ronggang/transmission-web-control)

```bash
cd
wget https://github.com/ronggang/transmission-web-control/raw/master/release/tr-control-easy-install.sh
sh tr-control-easy-install.sh
```